---
const navLinks = [
  { href: '#about', label: 'About' },
  { href: '#events', label: 'Events' },
  { href: '#gallery', label: 'Gallery' },
];
---

<nav class="fixed top-0 left-0 right-0 z-40 transition-all duration-300" id="main-nav" aria-label="Main navigation">
  <div class="max-w-7xl mx-auto px-5 sm:px-8 lg:px-12">
    <div class="flex items-center justify-between h-18 py-4">
      <a href="#" class="flex items-center gap-3 group">
        <img src="/images/logo.png" alt="" class="w-8 h-8 rounded-sm" />
        <span class="text-lg font-semibold text-white tracking-wide">LEGC</span>
      </a>

      <!-- Desktop nav -->
      <div class="hidden md:flex items-center gap-10">
        <ul class="flex items-center gap-8">
          {navLinks.map((link) => (
            <li>
              <a
                href={link.href}
                class="text-sm text-white/70 hover:text-white font-medium tracking-wide uppercase transition-colors duration-200"
              >
                {link.label}
              </a>
            </li>
          ))}
        </ul>
        <a
          href="https://luma.com/calendar/cal-y1kIXdGOliIqTu8"
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center px-5 py-2 bg-accent-500 hover:bg-accent-400 text-white text-sm font-semibold rounded-full transition-all duration-200 shadow-lg shadow-accent-500/20 hover:shadow-accent-500/40"
        >
          Events
        </a>
      </div>

      <!-- Mobile menu button -->
      <button
        id="mobile-menu-btn"
        type="button"
        class="md:hidden p-2 text-white/80 hover:text-white transition-colors"
        aria-expanded="false"
        aria-controls="mobile-menu"
        aria-label="Toggle navigation menu"
      >
        <svg id="menu-icon-open" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
        <svg id="menu-icon-close" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="hidden md:hidden bg-primary-900/95 backdrop-blur-lg border-t border-white/10">
    <ul class="px-5 py-4 space-y-1">
      {navLinks.map((link) => (
        <li>
          <a
            href={link.href}
            class="mobile-nav-link block px-4 py-3 rounded-lg text-white/80 hover:bg-white/10 hover:text-white font-medium transition-colors text-sm uppercase tracking-wide"
          >
            {link.label}
          </a>
        </li>
      ))}
      <li class="pt-2">
        <a
          href="https://luma.com/calendar/cal-y1kIXdGOliIqTu8"
          target="_blank"
          rel="noopener noreferrer"
          class="mobile-nav-link block px-4 py-3 rounded-full bg-accent-500 text-white font-semibold text-center text-sm"
        >
          Events
        </a>
      </li>
    </ul>
  </div>
</nav>

<style>
  nav {
    background: transparent;
  }
  nav.scrolled {
    background: rgba(0, 42, 82, 0.95);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    box-shadow: 0 1px 0 rgba(255,255,255,0.06);
  }
</style>

<script>
  const nav = document.getElementById('main-nav')!;
  const btn = document.getElementById('mobile-menu-btn')!;
  const menu = document.getElementById('mobile-menu')!;
  const iconOpen = document.getElementById('menu-icon-open')!;
  const iconClose = document.getElementById('menu-icon-close')!;

  // Scroll effect
  const onScroll = () => {
    if (window.scrollY > 60) {
      nav.classList.add('scrolled');
    } else {
      nav.classList.remove('scrolled');
    }
  };
  window.addEventListener('scroll', onScroll, { passive: true });
  onScroll();

  // Mobile toggle
  btn.addEventListener('click', () => {
    const isOpen = menu.classList.toggle('hidden');
    btn.setAttribute('aria-expanded', String(!isOpen));
    iconOpen.classList.toggle('hidden');
    iconClose.classList.toggle('hidden');
  });

  document.querySelectorAll('.mobile-nav-link').forEach((link) => {
    link.addEventListener('click', () => {
      menu.classList.add('hidden');
      btn.setAttribute('aria-expanded', 'false');
      iconOpen.classList.remove('hidden');
      iconClose.classList.add('hidden');
    });
  });
</script>
